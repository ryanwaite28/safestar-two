"use strict";$(document).ready(function(){var n,o=$("#account-icon"),e=$("#first_name_span"),s=$("#middle_name_span"),a=$("#last_name_span"),i=($("#submit_new_password_btn"),$("#old_password_input")),c=$("#new_password_input"),l=$("#new_password_verify_input"),t=[client.check_session()];Promise.all(t).then(function(t){n=t[0],o.attr("src",n.user.icon),e.text(tools.capitalize(n.user.fname)),s.text(tools.capitalize(n.user.mname)),a.text(tools.capitalize(n.user.lname))}).catch(function(t){console.log("error",t)}),$(document).on("click","#submit_icon_btn",function(){var t=document.getElementById("icon-input").files[0],e=new FormData;e.append("icon_image",t),tools.setActionButtonsDisabledState(!0),client.update_icon(e).then(function(t){tools.setActionButtonsDisabledState(!1),M.toast({html:t.message}),t.error||(document.getElementById("icon-input").value="",document.getElementById("icon-input-text").value="",n.user=t.user,o.attr("src",n.user.icon))})}),$(document).on("click","#submit_new_password_btn",function(){var t=i.val(),e=c.val(),n=l.val();tools.setActionButtonsDisabledState(!0),client.change_user_password({old_password:t,new_password:e,new_password_verify:n}).then(function(t){tools.setActionButtonsDisabledState(!1),M.toast({html:t.message}),t.error||(i.val(""),c.val(""),l.val(""))})})});